<!DOCTYPE html>
<html lang="en">
<head>
    
  <title>Forums</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  
  <script>
// Jquery, works with phones, We are in phone age. So.... NEED IT.


jQuery(document).ready(function(){  
    
    // checks when ever the tab changes, this will update its view.
  $(".nav-tabs a").click(function(){
     
    $(this).tab('show');    // THIS IS HOW I KNOW THEY CLICKED SOMETHING.
  });
  
  // when user clicks on a post already on the site, this is what will happen.
  $(".list-group a").click(function (){
      
    
    $(location).attr('href', "http://localhost:8080/CMPT_350_Project/");  // click to make new posts!
      
  }); 
  
  
  // a button, this will send the user to post a new post to the data base.
  $("#newPostGD").on('click', function(event) {
        var activeTab = $(".tab-content").find(".active"); 
        var id = activeTab.attr('id');  // figure out the id for the certian tab, that we are on, this is the data base name.
    
      
            
            $.get('ForumManager?FORUM='+ id, function(responseText){
                
                $(location).attr('href', "http://localhost:8080/CMPT_350_Project/ForumPagePosts.html");

                
           });
            
  });
  
  // when ever the window is currently loaded or refreshed etc, this will refresh all data on that window.
  $(window).on("load", function () {
      var activeTab = $(".tab-content").find(".active"); 
        var id = activeTab.attr('id'); 
    
     //<a href = "#" class= "list-group-item">Post1?</a>
     
        $.get('ForumManager?FORUM='+id, function(responseText){
            
            $('.list-group').append("<a href = '#' class = 'list-group-item'>"+responseText+ "</a>"); 
            
        });
      
  });
  
  
  

});

</script>

<style type = "text/css">
.bnt-primary
{
 
background-color: #6600A1;
 
color:#FFF;
 
border-color: #2F3E48;
 
}

</style>
</head>

<body>

 <!-- the tabs container from bootstrap, this will contain all the forum information.-->   
<div class="container">
  <h2>Berry Nice Game Forums</h2>
  
  <ul class="nav nav-tabs">
    <li class="active"><a href="#GD">General Discussion</a></li>
    <li><a href="#TTT">Table Top Tyranny</a></li>
    <li><a href="#CC">Construction Cons</a></li>
    <li><a href="#PA">Possession Aggression</a></li>
  </ul>

  <div class="tab-content">
    <div id="GD" class="tab-pane fade in active">
      <h3>General Discussion</h3>
      
      <button type = "button" id = "newPostGD" class = "btn bnt-primary btn-md">create new post:</button>
      
      
      <div class = "list-group">
        
      </div>    
          
      
    </div>
    <div id="TTT" class="tab-pane fade">
      <h3>Table Top Tyranny</h3>
      
     

    </div>
    <div id="CC" class="tab-pane fade">
      <h3>Construction Cons</h3>
      
    </div>
    <div id="PA" class="tab-pane fade">
      <h3>Possession Aggression</h3>
    </div>
  </div>
</div>
          <small id = "test"></small>

    
    
</body>
</html>
